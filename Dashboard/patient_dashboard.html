<!DOCTYPE html>
<html lang="en">
<!-- 
    * Modern JavaScript Dashboard
    * Sample themable JavaScript dashboard template that employs modern ES6, Bootstrap 4 and CSS grid.
    * @author SimpleNotSimpler
    * @version 1.0.0
    * @license MIT
-->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.13.0/css/all.css">
    
    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

    <!-- css for modern-table library -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/simplenotsimpler/modern-table@1.0.8/src/modern-table.css">

    <!-- site css -->
    <link rel="stylesheet" href="src/css/style.css">

    <title>Happy Health</title>

</head>


<body class="body-grid-container">
    <header class="header-container p-0">
        <!-- source:
             https://stackoverflow.com/questions/59067406/bootstrap-navbar-with-desired-width-and-centralized
        -->

        <nav class="navbar navbar-expand-md">
            <div class="d-flex flex-grow-1 nav-div">
                             </div>
            <button class="navbar-toggler order-0 ml-2" type="button" data-toggle="collapse" data-target="#topnavDropdown">
                <i class="fas fa-bars"></i>
            </button>
            <div class="navbar-collapse collapse flex-shrink-1 flex-grow-0 order-last " id="topnavDropdown">
                <ul class="navbar-nav">
                    <!-- 
                        added pr-3 to dropdown nav-items to fix overflow bug it caused 
                        solution from:  
                        https://stackoverflow.com/questions/48485889/bootstrap-4-nav-dropdown-menu-overflows-the-window
                    -->
                    <li class="nav-item dropdown pr-3">
                        <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">
                            <i class="fas fa-w fa-user"></i>
                            <span class="sr-only">User</span>
                        </a>
                        <div class="dropdown-menu">
                            <a href="#" class="dropdown-item">Hello, Jordan</a>
                            <div class="dropdown-divider"></div>
                        </div>
                    </li>
                    <li class="nav-item">
                        <a href="../Login/DBTT/login.html" class="nav-link">
                            <i class="fas fa-w fa-sign-in-alt"></i> Logout
                        </a>
                    </li>
                </ul>
            </div>
        </nav>
    </header>

    <nav class="sidenav-container collapse show text-align-center px-2" id="sidenav">
        <ul class="nav navbar-nav flex-column sticky-top">
            <li class="nav-item sidenav-brand">
                <a class="nav-link sidenav-brand-link" href="#">
                    <div class="sidenav-brand-link-text"><i class="fas fa-funnel-dollar"></i> Happy Health</div>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="patient_dashboard.html">
                    <i class="fas fa-fw fa-sidenav fa-tachometer-alt"></i>
                    <div class="sidenav-link-text">Dashboard</div>
                </a>
            </li>

            <li class="nav-item">
                <a class="nav-link" href="medication.html">
                    <i class="fas fa-fw fa-sidenav fa-chart-area "></i>
                    <div class="sidenav-link-text">Medication</div>
                </a>
            </li>
        </ul>
    </nav>

    <main class="main-container container-fluid pt-1 px-2 m-0">

        <div class="card-deck m-0 p-0">
            <div class="card my-1">
                <div class="content-container">
                    <h3>Heart Rate</h3>
                    <div class="center-container">
                        <div class="image-container">
                            <img src="src/img/heartrate.png" alt="" class="icon">
                        </div>
                        <div class="number-container">
                            <p class="number" id="heartRate">123</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card my-1">
                <div class="content-container">
                    <h3>Blood Pressure</h3>
                    <div class="center-container">
                        <div class="image-container">
                            <img src="src/img/bp.png" alt="" class="icon">
                        </div>
                        <div class="number-container">
                            <p class="number" id="bloodPressure">117</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card my-1">
                <div class="content-container">
                    <h3>Cholesterol Level</h3> 
                    <div class="center-container">
                        <div class="image-container">
                            <img src="src/img/cholesterol.png" alt="" class="icon">
                        </div>
                        <div class="number-container">
                            <p class="number">117</p>
                        </div>
                    </div>
                </div>
            </div>
            

        </div>

        <div class="card-deck m-0 p-0">
            <div class="card my-1">
                <div class="content-container">
                    <h3>Respiration Rate</h3>
                    <div class="center-container">
                        <div class="image-container">
                            <img src="src/img/rr.png" alt="" class="icon">
                        </div>
                        <div class="number-container">
                            <p class="number" id="respirationRate">20</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card my-1">
                <div class="content-container">
                    <h3>Body Temperature</h3>
                    <div class="center-container">
                        <div class="image-container">
                            <img src="src/img/temp.png" alt="" class="icon">
                        </div>
                        <div class="number-container">
                            <p class="number" id="temp">35.2</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card my-1">
                <div class="content-container">
                    <h3>Oxygen Saturation Levels</h3> 
                    <div class="center-container">
                        <div class="image-container">
                            <img src="src/img/oxygen.png" alt="" class="icon">
                        </div>
                        <div class="number-container">
                            <!-- Replace '123' with your desired number -->
                            <p class="number" id ="oxygen">95.123</p>
                        </div>
                    </div>
                </div>
            </div>
            

        </div>

        <div class="card-deck m-0 p-0">
            <div class="card my-0">
                <div class="content-container">
                    <h2>Patient Dashboard</h2>
                    <div class="center-container">
                        <script type='module' src='https://prod-apnortheast-a.online.tableau.com/javascripts/api/tableau.embedding.3.latest.min.js'></script><tableau-viz id='tableau-viz' src='https://prod-apnortheast-a.online.tableau.com/t/brendantan202229e5a4a177/views/HealthDashboard/HealthDashboard2' width='2000' height='2040' hide-tabs toolbar='bottom' ></tableau-viz>
                    </div>
                </div>
            </div>
        </div>


        <!-- card decks code from: https://www.codeply.com/go/nIB6oSbv6q -->  
    </main>



    <!-- jQuery and JS bundle w/ Popper.js -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>

    <!-- moment.js for date/time -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js" integrity="sha512-qTXRIMyZIFb8iQcfjXWCO8+M5Tbc38Qi5WzdPOYZHIlZpzBHG3L3by84BBBOiRGiEb7KKtAOAs5qYdUiZiQNNQ==" crossorigin="anonymous"></script>

    <!-- CDN for Apex Charts -->
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>

    <!-- CDN for format-intl-number library -->
    <script src="https://cdn.jsdelivr.net/gh/simplenotsimpler/format-intl-number@1.0.0/format-intl-number.js"></script>

    <!-- CDN for modern-table library -->
    <script src="https://cdn.jsdelivr.net/gh/simplenotsimpler/modern-table@1.0.8/src/modern-table.js"></script>

    <!-- globals for charts -->
    <script src="src/js/chart-demo/chart-global.js"></script>

    <!-- demo charts -->
    <script src="src/js/chart-demo/chart-area-demo.js"></script>
    <script src="src/js/chart-demo/chart-bar-demo.js"></script>
    <script src="src/js/chart-demo/chart-pie-demo.js"></script>

    <!-- demo modern-table integration -->
    <script src="src/js/modern-table-demo.js"></script>

</body>

<script>
    function updateHeartRate() {
        var currentHeartRate = parseInt(document.getElementById("heartRate").innerText);
        var targetHeartRate = Math.floor(Math.random() * 100) + 60; // Example: Random number between 60 and 160
        var step = (targetHeartRate - currentHeartRate) / 20; // Adjust the step for smoother transition

        function animate() {
            currentHeartRate += step;
            document.getElementById("heartRate").innerText = Math.round(currentHeartRate);

            if ((step > 0 && currentHeartRate < targetHeartRate) || (step < 0 && currentHeartRate > targetHeartRate)) {
                requestAnimationFrame(animate);
            }
        }

        animate();
    }

    // Update the heart rate every 2 seconds
    setInterval(updateHeartRate, 2000);

    function updateBloodPressure() {
        var currentBloodPressure = parseInt(document.getElementById("bloodPressure").innerText);
        var targetBloodPressure = Math.floor(Math.random() * 40) + 80; // Example: Random number between 80 and 120
        var step = (targetBloodPressure - currentBloodPressure) / 20; // Adjust the step for smoother transition

        function animate() {
            currentBloodPressure += step;
            document.getElementById("bloodPressure").innerText = Math.round(currentBloodPressure);

            if ((step > 0 && currentBloodPressure < targetBloodPressure) || (step < 0 && currentBloodPressure > targetBloodPressure)) {
                requestAnimationFrame(animate);
            }
        }

        animate();
    }

    // Update the blood pressure every 10 seconds
    setInterval(updateBloodPressure, 10000);

    function updateRespirationRate() {
        var currentRate = parseInt(document.getElementById("respirationRate").innerText);
        var targerRate = Math.floor(Math.random() * 20) + 10; // Example: Random number between 60 and 160
        var step = (targerRate - currentRate) / 20; // Adjust the step for smoother transition

        function animate() {
            currentRate += step;
            document.getElementById("respirationRate").innerText = Math.round(currentRate);

            if ((step > 0 && currentRate < targerRate) || (step < 0 && currentRate > targerRate)) {
                requestAnimationFrame(animate);
            }
        }

        animate();
    }

    // Update the heart rate every 2 seconds
    setInterval(updateRespirationRate, 1000);

    function updateTemperature() {
    var currentTemp = parseFloat(document.getElementById("temp").innerText);
    var targetTemp = (Math.random() * 10) + 35; // Example: Random number between 35 and 45
    var step = (targetTemp - currentTemp) / 20; // Adjust the step for smoother transition

    function animate() {
        currentTemp += step;
        document.getElementById("temp").innerText = currentTemp.toFixed(1); // Round to 1 decimal place

        if ((step > 0 && currentTemp < targetTemp) || (step < 0 && currentTemp > targetTemp)) {
            requestAnimationFrame(animate);
        }
    }

        animate();
    }

    // Update the temperature every 2 seconds
    setInterval(updateTemperature, 1000);

    function updateOxygenLevel() {
    var currentOxygen = parseFloat(document.getElementById("oxygen").innerText);
    var targetOxygen = (Math.random() * 10) + 90; // Example: Random number between 90 and 100
    var step = (targetOxygen - currentOxygen) / 20; // Adjust the step for smoother transition

    function animate() {
        currentOxygen += step;
        document.getElementById("oxygen").innerText = currentOxygen.toFixed(3); // Round to 3 decimal places

        if ((step > 0 && currentOxygen < targetOxygen) || (step < 0 && currentOxygen > targetOxygen)) {
            requestAnimationFrame(animate);
        }
    }

    animate();
}

// Update the oxygen level every 2 seconds
setInterval(updateOxygenLevel, 1000);


</script>

</html>
